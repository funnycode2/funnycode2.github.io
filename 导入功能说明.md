# 五羽轮比 - 导入功能使用说明

## 功能概述

五羽轮比网站现在支持多种方式导入对战数据，让您可以快速恢复之前的比赛设置或分享对战安排。

## 导入方式

### 1. 从文件导入
- **支持格式**: JSON文件
- **使用方法**: 
  1. 点击"导入数据"按钮
  2. 选择"从文件导入"
  3. 选择之前导出的JSON文件
  4. 系统自动验证并导入数据

### 2. 手动输入
- **支持格式**: JSON文本
- **使用方法**:
  1. 点击"导入数据"按钮
  2. 选择"手动输入"
  3. 在文本框中粘贴JSON数据
  4. 点击"导入数据"按钮

### 3. 从历史记录导入
- **数据来源**: 本地存储的历史记录
- **使用方法**:
  1. 点击"导入数据"按钮
  2. 选择"从历史记录导入"
  3. 从列表中选择要导入的历史记录
  4. 点击记录项即可导入

## 数据格式要求

### JSON格式示例
```json
{
  "version": "1.0",
  "exportTime": "2024-01-15T10:30:00.000Z",
  "redTeam": [
    {
      "name": "张三",
      "score": 8
    },
    {
      "name": "李四", 
      "score": 9
    }
  ],
  "blueTeam": [
    {
      "name": "周九",
      "score": 7
    },
    {
      "name": "吴十",
      "score": 8
    }
  ],
  "matches": [
    {
      "round": 1,
      "redPlayers": [...],
      "bluePlayers": [...],
      "redPlayerNumbers": [1, 2],
      "bluePlayerNumbers": [1, 2],
      "targetScore": 10,
      "redScore": 8,
      "blueScore": 6,
      "description": "第1轮：红方1号+2号 VS 蓝方1号+2号"
    }
  ],
  "metadata": {
    "redTotal": 47,
    "blueTotal": 48,
    "redAverage": "7.8",
    "blueAverage": "8.0"
  }
}
```

### 数据验证规则
- **队伍人数**: 每支队伍必须6-7人
- **选手信息**: 必须包含姓名和实力评分
- **比赛数据**: 可选，如果包含则同时导入比赛进度

## 导出功能

### 导出格式
系统会同时导出两种格式：
1. **文本格式** (.txt): 人类可读的比赛安排
2. **JSON格式** (.json): 机器可读的完整数据

### 导出内容
- 队伍信息（选手姓名、实力评分）
- 轮转对战安排
- 比赛进度（如果有）
- 元数据（总分、平均分等）

## 使用场景

### 1. 数据备份
- 导出当前设置作为备份
- 在不同设备间同步数据

### 2. 比赛分享
- 将比赛安排分享给其他参与者
- 快速设置相同的比赛配置

### 3. 历史恢复
- 从历史记录中恢复之前的比赛
- 继续未完成的比赛

### 4. 模板使用
- 使用示例数据作为模板
- 快速创建新的比赛

## 注意事项

1. **数据安全**: 导入会覆盖当前的所有数据
2. **格式兼容**: 确保JSON格式正确
3. **版本兼容**: 建议使用最新版本导出的数据
4. **浏览器支持**: 需要支持File API的现代浏览器

## 故障排除

### 常见问题
1. **文件格式错误**: 确保选择正确的JSON文件
2. **数据验证失败**: 检查队伍人数是否符合要求
3. **导入失败**: 检查JSON格式是否正确

### 解决方案
1. 使用示例数据测试导入功能
2. 检查浏览器控制台的错误信息
3. 确保数据格式符合要求

## 示例文件

项目根目录包含 `sample-data.json` 文件，您可以用它来测试导入功能。 